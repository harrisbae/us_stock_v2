# 여러 종목 일괄 분석 스크립트 사용법

`analyze_stocks.sh` 스크립트는 여러 종목 코드를 텍스트 파일로부터 읽어 일괄적으로 기술적 분석을 수행하고, 종합 요약 파일을 생성합니다.

## 기본 사용법

```bash
./analyze_stocks.sh [옵션]
```

## 옵션 설명

| 옵션 | 설명 | 기본값 |
|------|------|--------|
| `-p, --period PERIOD` | 데이터 기간 지정 | `1mo` |
| `-i, --interval INTERVAL` | 봉 간격 지정 | `1d` |
| `-s, --start-date DATE` | 시작 날짜 (YYYY-MM-DD 형식) | - |
| `-e, --end-date DATE` | 종료 날짜 (YYYY-MM-DD 형식) | - |
| `-o, --output DIR` | 출력 디렉토리 지정 | `output/YYYYMMDD` |
| `-f, --file FILE` | 종목 리스트 파일 지정 | `stock_list.txt` |

## 종목 리스트 파일 형식

종목 리스트 파일은 한 줄에 하나의 종목 코드를 포함하는 텍스트 파일입니다. 빈 줄과 `#`으로 시작하는 주석은 무시됩니다.

예시 (`stock_list.txt`):
```
# 미국 기술주
AAPL
MSFT
GOOGL

# 한국 주식
005930.KS  # 삼성전자
035720.KQ  # 카카오
```

## 출력 결과

스크립트는 다음과 같은 결과물을 생성합니다:

1. **각 종목별 분석 디렉토리**:
   - `[출력 디렉토리]/[종목코드]/[종목코드]_analysis.md`: 종목별 상세 분석 파일
   - `[출력 디렉토리]/[종목코드]/[종목코드]_technical_analysis.png`: 매수 신호 차트
   - `[출력 디렉토리]/[종목코드]/[종목코드]_sell_signals.png`: 매도 신호 차트
   - `[출력 디렉토리]/[종목코드]/[종목코드]_data.csv`: 원시 데이터 및 기술적 지표

2. **종합 요약 파일**:
   - `[출력 디렉토리]/stock_summary.md`: 모든 종목의 핵심 지표를 비교한 종합 요약 파일

## 사용 예시

### 기본 사용법
```bash
./analyze_stocks.sh
```
이 명령은 `stock_list.txt` 파일에 있는 모든 종목을 1개월 기간, 일봉 간격으로 분석합니다.

### 특정 기간 분석
```bash
./analyze_stocks.sh -p 3mo -s 2025-01-01 -e 2025-04-01
```
이 명령은 2025년 1월 1일부터 4월 1일까지의 3개월 데이터를 분석합니다.

### 다른 종목 리스트 파일 사용
```bash
./analyze_stocks.sh -f my_watchlist.txt -p 6mo
```
이 명령은 `my_watchlist.txt` 파일에 있는 종목들을 6개월 기간으로 분석합니다.

### 출력 디렉토리 지정
```bash
./analyze_stocks.sh -o analysis_results
```
이 명령은 분석 결과를 `analysis_results` 디렉토리에 저장합니다.

## 주의사항

- 많은 종목을 분석할 경우 시간이 오래 걸릴 수 있습니다.
- 한국 종목(`.KS`, `.KQ` 접미사)의 경우 외국인 거래량 데이터 수집 시 오류가 발생할 수 있습니다.
- 모든 종목에 대해 분석 파일이 생성된 후 종합 요약 파일이 완성됩니다.
- 주식 데이터는 Yahoo Finance 또는 다른 데이터 제공자로부터 가져오므로, 데이터 이용 약관을 확인하시기 바랍니다.

## 분석 내용 

각 종목별 분석 파일에는 다음 항목이 포함됩니다:

1. 기본 정보 및 추세 분석
   - 현재 종가, 전일대비 등락률
   - 단기/중기/장기 추세 상태

2. 주요 기술적 지표
   - 이동평균선 (MA5, MA20)
   - 볼린저 밴드 (상단, 하단, %B)
   - 모멘텀 지표 (RSI)

3. 매수/매도 신호 분석
   - 최근 10일간 매수 신호 점수 추이
   - 최근 10일간 매도 신호 점수 추이
   - 최종 매수/매도 추천

4. 종합 평가
   - 매수 관점 평가
   - 매도 관점 평가
   - 주의사항

종합 요약 파일(stock_summary.md)에는 모든 종목의 주요 지표와 추천 상태가 표 형식으로 정리되어 있어 한눈에 비교 확인할 수 있습니다. 