# HMA 만트라 차트 시각화 개선 사항 정리

## 1. 메인 차트 (Candlestick) 개선
### 매수 신호(▲) 표시
- **기본 표시**: 파란색/반투명 파란색 삼각형
- **위치**: 하단 밴드 아래 (y * 0.99)
- **신호 강화 표시**
  - 조건: 캔들바 몸체(시가/종가)가 HMA보다 위에 있을 때
  - 표시: 삼각형 아래에 별표(*) 추가
  - 크기: 7.5 (markersize)
  - 위치: y * 0.98

### 매도 신호(▼) 표시
- **기본 표시**: 빨간색/반투명 빨간색 역삼각형
- **위치**: 상단 밴드 위 (y * 1.01)
- **신호 강화 표시**
  - 조건: 캔들바 몸체(시가/종가)가 HMA보다 아래에 있을 때
  - 표시: 역삼각형 위에 별표(*) 추가
  - 크기: 7.5 (markersize)
  - 위치: y * 1.02

### 신호 텍스트 표시
- **매수 신호**: 
  - 위치: 삼각형 아래
  - 표시: 날짜(MM/DD) + 신호번호(B1/B2/B3)
- **매도 신호**: 
  - 위치: 역삼각형 위
  - 표시: 날짜(MM/DD) + 신호번호(T1/T2)
- **공통 스타일**:
  - 회전: 45도
  - 크기: fontsize=6
  - 배경: 흰색 (alpha=0.7)

## 2. 신호 분류 체계
### 매수 신호 (B)
- **B1**: HMA 상향돌파 + RSI 매수
  - 강한매수: MACD > Signal
  - 일반매수: MACD ≤ Signal
- **B2**: 하단밴드 돌파
  - 강한매수: MACD > Signal
  - 일반매수: MACD ≤ Signal
- **B3**: HMA 상향돌파 + MACD > Signal (RSI 비매수)

### 매도 신호 (T)
- **T1**: HMA 하향돌파 + RSI 매도
  - 강한매도: MACD < Signal
  - 일반매도: MACD ≥ Signal
- **T2**: 상단밴드 돌파
  - 강한매도: MACD < Signal
  - 일반매도: MACD ≥ Signal

## 3. 차트 구성 요소
### 메인 차트
- 캔들스틱
- HMA 라인
- 만트라 밴드 (상단/하단)
- 볼린저 밴드
- 매수/매도 신호

### 보조지표
1. **RSI 차트**
   - RSI(3), RSI(14), RSI(50)
   - 매수/매도 구간 표시
   - 크로스 신호 표시

2. **MACD 차트**
   - MACD, Signal 라인
   - 히스토그램
   - 크로스 신호 표시

3. **거래량 차트**
   - 일별 거래량
   - 평균 거래량 선

4. **VIX 차트**
   - VIX 지수
   - 구간별 배경색
   - 현재값 표시

5. **TNX 차트**
   - 미국채 10년물 금리
   - 현재값 표시

6. **DXY 차트**
   - 달러 인덱스
   - 현재값 표시

## 4. 시각적 개선 효과
1. **신호 식별성 향상**
   - 색상 구분 (매수: 파란색, 매도: 빨간색)
   - 투명도 활용 (강한 신호: 불투명, 일반 신호: 반투명)
   - 별표 마커로 추가 신호 강화

2. **정보 가시성 개선**
   - 적절한 마커 크기 조정
   - 텍스트 배치 최적화
   - zorder 조정으로 중첩 해결

3. **직관적 이해도 향상**
   - 신호 번호 체계화 (B1-B3, T1-T2)
   - 날짜 정보 추가
   - 배경색 활용한 구간 구분

이러한 개선사항들은 모두 `src/indicators/hma_mantra/visualization/advanced.py` 파일에 구현되어 있으며, 차트의 가시성과 사용자 경험을 크게 향상시켰습니다. 